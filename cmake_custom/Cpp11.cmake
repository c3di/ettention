macro(SwitchOnCpp11)
	if (CMAKE_COMPILER_IS_GNUCC)
	    execute_process(COMMAND ${CMAKE_C_COMPILER} -dumpversion OUTPUT_VARIABLE GCC_VERSION)
	    if (GCC_VERSION VERSION_GREATER 4.7 OR GCC_VERSION VERSION_EQUAL 4.7)
        	message(STATUS "gcc version >= 4.7, using C++ 11")
			list ( APPEND CMAKE_CXX_FLAGS "-std=c++11")
			list ( REMOVE_DUPLICATES CMAKE_CXX_FLAGS)
            else()
		message(STATUS "Sorry, we enable C++ 11 only on gcc compiler v4.7 and higher. You appear to be using older gcc compiler.")
	    endif()
	endif()
endmacro()
